---
import { formatDate } from "@/lib/util";

const { post } = Astro.props;

const postItemClasses = [
  // Base styling
  "overflow-hidden rounded-lg shadow-md transition-colors ring-2",
  
  // DaisyUI semantic colors
  "bg-base-100 ring-base-300",
  "hover:bg-base-200 hover:ring-base-content/20"
].join(" ");

const gradientClasses = [
  // Base styling with DaisyUI-friendly gradient
  "w-full h-48 bg-gradient-to-br from-base-200 to-base-300"
].join(" ");

const titleClasses = [
  // Base styling
  "text-xl font-semibold",
  
  // DaisyUI semantic colors
  "text-base-content"
].join(" ");

const descriptionClasses = [
  // Base styling  
  "mt-2",
  
  // DaisyUI semantic colors
  "text-base-content/70"
].join(" ");

const timeClasses = [
  // Base styling
  "mt-4 block text-sm",
  
  // DaisyUI semantic colors
  "text-base-content/60"
].join(" ");
---

<li class={postItemClasses}>
  <a href={`/blog/${post.slug}`} class="block">
    {post.data.image ? (
      <img src={post.data.image.src} alt={post.data.imageAlt ?? post.data.title} class="w-full h-48 object-cover" />
    ) : (
      <div class={gradientClasses}></div>
    )}
    <div class="p-4">
      <h2 class={titleClasses}
      >
        {post.data.title}
      </h2>
      <p class={descriptionClasses}
      >
        {post.data.description}
      </p>
      <time class={timeClasses}
      >
        {formatDate(post.data.publicationDate)}
      </time>
    </div>
  </a>
</li>
